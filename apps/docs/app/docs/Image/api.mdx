import { Table, Text, Code, Box, Callout, Flex, Image, Theme, Badge } from '@kushagradhawan/kookie-ui';
import { ChevronDown, Dot, Check, ChevronRight } from 'lucide-react';
import { CodeBlock } from '../../components/CodeBlock';
import { getDemoImage } from '../../../lib/demo-images';

# API

Use the Image component to display images with proper loading states, accessibility support, and responsive behavior. The component handles common image display patterns including lazy loading, skeleton placeholders, and graceful error handling.

Choose from different object-fit options to control how images scale within their containers, and use the asChild pattern to make images interactive. The component automatically provides accessibility compliance, loading state management, and responsive behavior out of the box.

## Import

```tsx
import { Image } from '@kushagradhawan/kookie-ui';
```

## Props

<Box my="8">
  <Table.Root size="2" variant="ghost">
    <Table.Header>
      <Table.Row>
        <Table.ColumnHeaderCell>Prop</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell>Type</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell>Default</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell style={{ width: '50px' }}>Responsive </Table.ColumnHeaderCell>
      </Table.Row>
    </Table.Header>
    <Table.Body>
      <Table.Row>
        <Table.RowHeaderCell>`variant`</Table.RowHeaderCell>
        <Table.Cell>`'surface'`</Table.Cell>
        <Table.Cell>`'surface'`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`fit`</Table.RowHeaderCell>
        <Table.Cell>`'cover' | 'contain' | 'fill' | 'scale-down' | 'none'`</Table.Cell>
        <Table.Cell>`'cover'`</Table.Cell>
        <Table.Cell>✓</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`loading`</Table.RowHeaderCell>
        <Table.Cell>`'eager' | 'lazy'`</Table.Cell>
        <Table.Cell>`'lazy'`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`showSkeleton`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
        <Table.Cell>`false`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`fadeIn`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
        <Table.Cell>`true`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`placeholder`</Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
        <Table.Cell>—</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`loadingAriaLabel`</Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
        <Table.Cell>`'Loading image...'`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`errorAriaLabel`</Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
        <Table.Cell>`'Failed to load image'`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`onLoad`</Table.RowHeaderCell>
        <Table.Cell>`(event: React.SyntheticEvent<HTMLImageElement>) => void`</Table.Cell>
        <Table.Cell>—</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`onError`</Table.RowHeaderCell>
        <Table.Cell>`(event: React.SyntheticEvent<HTMLImageElement>) => void`</Table.Cell>
        <Table.Cell>—</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`wrapperStyle`</Table.RowHeaderCell>
        <Table.Cell>`React.CSSProperties`</Table.Cell>
        <Table.Cell>—</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`asChild`</Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
        <Table.Cell>`false`</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`src`</Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
        <Table.Cell>—</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>`alt`</Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
        <Table.Cell>—</Table.Cell>
        <Table.Cell>—</Table.Cell>
      </Table.Row>
    </Table.Body>
  </Table.Root>
</Box>

## Basic Usage

<CodeBlock
  preview={
    <Flex gap="4" align="center" wrap="wrap">
      <Image
        src={getDemoImage('square')}
        alt="A square demo image"
        width="120px"
        height="80px"
      />
    </Flex>
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Description of the image"
  width="120px"
  height="80px"
/>
```

</CodeBlock>

## Object Fit

Control how the image scales within its container using the `fit` prop.

<CodeBlock
  preview={
    <Flex gap="4" align="center" wrap="wrap">
      <Box style={{ border: '1px dashed var(--gray-a6)', borderRadius: 'var(--radius-3)', display: 'inline-block' }}>
        <Image
          src={getDemoImage('landscape')}
          alt="Cover fit example"
          width="120px"
          height="120px"
          fit="cover"
        />
      </Box>
      <Box style={{ border: '1px dashed var(--gray-a6)', borderRadius: 'var(--radius-3)', display: 'inline-block' }}>
        <Image
          src={getDemoImage('landscape')}
          alt="Contain fit example"
          width="120px"
          height="120px"
          fit="contain"
        />
      </Box>
    </Flex>
  }
>

```tsx
{/* Cover: Scales to fill container, may crop */}
<Image
  src="/landscape.jpg"
  alt="Cover fit example"
  width="120px"
  height="120px"
  fit="cover"
/>

{/* Contain: Scales to fit within container */}
<Image
  src="/landscape.jpg"
  alt="Contain fit example"
  width="120px"
  height="120px"
  fit="contain"
/>
```

</CodeBlock>

## Loading States

The Image component provides several options for handling loading states.

### Skeleton Placeholder

<CodeBlock
  preview={
    <Image
      src={getDemoImage('square')}
      alt="Image with skeleton"
      width="120px"
      height="80px"
      showSkeleton
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Image with skeleton"
  width="120px"
  height="80px"
  showSkeleton
/>
```

</CodeBlock>

### Placeholder Image

<CodeBlock
  preview={
    <Image
      src={getDemoImage('square')}
      alt="Image with placeholder"
      width="120px"
      height="80px"
      placeholder="/path/to/placeholder.jpg"
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Image with placeholder"
  width="120px"
  height="80px"
  placeholder="/path/to/placeholder.jpg"
/>
```

</CodeBlock>

### No Fade In

<CodeBlock
  preview={
    <Image
      src={getDemoImage('square')}
      alt="Image without fade in"
      width="120px"
      height="80px"
      fadeIn={false}
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Image without fade in"
  width="120px"
  height="80px"
  fadeIn={false}
/>
```

</CodeBlock>

## Loading Behavior

Control when images load using the `loading` prop.

<CodeBlock
  preview={
    <Flex gap="4" align="center" wrap="wrap">
      <Image
        src={getDemoImage('square')}
        alt="Eager loading"
        width="120px"
        height="80px"
        loading="eager"
      />
      <Image
        src={getDemoImage('square')}
        alt="Lazy loading"
        width="120px"
        height="80px"
        loading="lazy"
      />
    </Flex>
  }
>

```tsx
{/* Load immediately */}
<Image
  src="/path/to/image.jpg"
  alt="Eager loading"
  width="120px"
  height="80px"
  loading="eager"
/>

{/* Load when scrolled into view (default) */}
<Image
  src="/path/to/image.jpg"
  alt="Lazy loading"
  width="120px"
  height="80px"
  loading="lazy"
/>
```

</CodeBlock>

## Interactive Images

Use the `asChild` pattern to make images interactive.

<CodeBlock
  preview={
    <Flex gap="4" align="center" wrap="wrap">
      <Image
        asChild
        src={getDemoImage('square')}
        alt="Clickable image"
        width="120px"
        height="80px"
      >
        <button onClick={() => alert('Image clicked!')}>
          {/* Image content */}
        </button>
      </Image>
      <Image
        asChild
        src={getDemoImage('square')}
        alt="Linked image"
        width="120px"
        height="80px"
      >
        <a
          href="#"
          onClick={(e) => {
            e.preventDefault();
            alert('Image link clicked!');
          }}
        >
          {/* Image content */}
        </a>
      </Image>
    </Flex>
  }
>

```tsx
{/* As a button */}
<Image
  asChild
  src="/path/to/image.jpg"
  alt="Clickable image"
  width="120px"
  height="80px"
>
  <button onClick={() => handleClick()}>
    {/* Image content */}
  </button>
</Image>

{/* As a link */}
<Image
  asChild
  src="/path/to/image.jpg"
  alt="Linked image"
  width="120px"
  height="80px"
>
  <a href="/destination">
    {/* Image content */}
  </a>
</Image>
```

</CodeBlock>

## Event Handling

Handle image load and error events with callback functions.

<CodeBlock
  preview={
    <Image
      src={getDemoImage('square')}
      alt="Image with event handlers"
      width="120px"
      height="80px"
      onLoad={() => console.log('Image loaded successfully')}
      onError={() => console.log('Image failed to load')}
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Image with event handlers"
  width="120px"
  height="80px"
  onLoad={(event) => {
    console.log('Image loaded successfully');
    // Handle successful load
  }}
  onError={(event) => {
    console.log('Image failed to load');
    // Handle error
  }}
/>
```

</CodeBlock>

## Accessibility

The Image component automatically provides comprehensive accessibility support.

### ARIA Labels

<CodeBlock
  preview={
    <Image
      src={getDemoImage('square')}
      alt="Image with custom ARIA labels"
      width="120px"
      height="80px"
      loadingAriaLabel="Loading product image..."
      errorAriaLabel="Product image failed to load"
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Product image"
  width="120px"
  height="80px"
  loadingAriaLabel="Loading product image..."
  errorAriaLabel="Product image failed to load"
/>
```

</CodeBlock>

## Responsive Design

The `fit` prop supports responsive values for different screen sizes.

<CodeBlock
  preview={
    <Image
      src={getDemoImage('landscape')}
      alt="Responsive image"
      width="120px"
      height="120px"
      fit={{ initial: 'cover', sm: 'contain', lg: 'fill' }}
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Responsive image"
  width="120px"
  height="120px"
  fit={{
    initial: 'cover',    // Mobile: cover
    sm: 'contain',       // Small screens: contain
    lg: 'fill'           // Large screens: fill
  }}
/>
```

</CodeBlock>

## Styling

Apply custom styles to the wrapper container using the `wrapperStyle` prop.

<CodeBlock
  preview={
    <Image
      src={getDemoImage('square')}
      alt="Styled image"
      width="120px"
      height="80px"
      wrapperStyle={{
        border: '2px solid var(--accent-9)',
        borderRadius: 'var(--radius-3)',
        padding: 'var(--space-2)'
      }}
    />
  }
>

```tsx
<Image
  src="/path/to/image.jpg"
  alt="Styled image"
  width="120px"
  height="80px"
  wrapperStyle={{
    border: '2px solid var(--accent-9)',
    borderRadius: 'var(--radius-3)',
    padding: 'var(--space-2)'
  }}
/>
```

</CodeBlock> 